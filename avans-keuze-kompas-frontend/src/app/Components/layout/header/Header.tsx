"use client";

import Link from "next/link";
import { useAuth } from "../../../lib/auth/useAuth";

export const Header = () => {
  const { isLoggedIn, logout, user } = useAuth();

  return (
    <header className="p-5 flex justify-center items-center bg-white shadow mb-5">
      <div className="container flex justify-between items-center">
        <div className="flex gap-2 items-center">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="120px"
            height="35px"
            viewBox="0 0 89 22"
            className="text-[#c6002aff] dark:text-[#e38094ff]"
          >
            <path
              fill="currentColor"
              d="M5.618 1.482c-1.574.678-1.23 2.735-.976 4.287v.011c1.39-.517 3.413-1.322 5.516-1.322 2.103.012 3.08.61 2.7 2.425-.38 1.816-2.206 10.607-2.252 10.837-.333.241-4.827 1.23-4.746-1.781.069-2.977 2.39-4.103 3.769-4.712.988-.425 1.057-2.723 1.23-3.355-4.781.655-9.826 2.39-10.71 7.24-.874 4.837 2.171 6.607 7.526 6.63 5.367.023 8.217-1.563 8.217-1.563s2.034-9.733 2.528-12.147c.494-2.413.241-4.355-.804-5.642C16.58 1.103 14.72.379 12.284.379c-3.712 0-6.16.885-6.666 1.103ZM40.68 1.482c-1.575.678-1.23 2.747-.966 4.287v.011c1.39-.517 3.413-1.322 5.516-1.322 2.103.012 3.08.61 2.69 2.425-.38 1.816-2.207 10.607-2.253 10.837-.333.241-4.827 1.23-4.746-1.781.069-2.977 2.39-4.103 3.77-4.712.987-.437 1.056-2.723 1.217-3.355-4.769.655-9.825 2.401-10.71 7.24-.873 4.837 2.172 6.607 7.527 6.63 5.367.023 8.217-1.563 8.217-1.563s2.034-9.733 2.528-12.147c.494-2.413.241-4.355-.804-5.642C51.642 1.103 49.78.379 47.345.379c-3.712 0-6.16.885-6.665 1.103ZM28.728 20.352C29.303 19.214 38.714.77 38.714.77h-4.539c-1.47 0-2.264 1.723-2.804 2.93-.47 1.069-2.252 4.838-4.573 10.262.069-.954-.288-9.4-.38-11.25-.057-1.184-1.045-1.954-2.827-1.954h-3.608l2.275 20.674h4.482c.31 0 1.414.046 1.988-1.08ZM65.49 21.616h4.643c1.241-6.24 3.022-14.17 3.068-15.813.058-2.31-1.333-5.355-7.71-5.355-4.575 0-8.171 1.574-8.171 1.574l-3.574 17.364s3.872-1.7 4.872-2.149c1.437-.643 1.747-1.965 2.092-3.528.344-1.551 1.792-8.561 1.838-8.78a9.934 9.934 0 0 1 2.54-.367c1.494 0 2.287.655 2.287 1.77 0 .494-1.93 9.928-2.69 13.698-.01-.012-.447 1.643.805 1.586ZM87.933 3.654l.966-1.609S86.91.39 83.256.39c-5.205 0-8.09 3.758-8.09 7.286 0 4.7 5.229 4.379 5.229 6.953 0 1.252-1.069 3.344-4.712 2.287-1.264-.368-2 .24-2.287.689-.252.38-1.482 2.46-1.482 2.46s2.138 1.665 5.78 1.665c6.148 0 9.113-4.01 9.113-7.745 0-4.585-5.596-4.528-5.596-7.033 0-1.367 1.287-2.861 3.677-2.252.644.172 1.93.724 3.045-1.046Z"
            />
          </svg>
          <h1 className="font-sans font-black text-4xl">KeuzeKompas</h1>
        </div>

        {/* ðŸ‘‡ Conditional links based on auth */}
        <div className="flex gap-4 items-center">
          {user?.is_admin && (
            <Link
              href="/vkm"
              className="text-[#c6002a] font-semibold hover:text-[#a00021] transition"
            >
              Admin
            </Link>
          )}

          {isLoggedIn ? (
            <button
              onClick={logout}
              className="text-[#c6002a] font-semibold hover:text-[#a00021] transition"
            >
              Logout
            </button>
          ) : (
            <Link
              href="/login"
              className="text-[#c6002a] font-semibold hover:text-[#a00021] transition"
            >
              Login
            </Link>
          )}
        </div>
      </div>
    </header>
  );
};